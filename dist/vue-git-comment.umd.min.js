(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["VueGitComment"]=e(require("vue")):t["VueGitComment"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"1d2e":function(t,e,n){"use strict";var r=n("869a"),o=n.n(r);o.a},2496:function(t,e,n){},"2f30":function(t,e,n){"use strict";var r=n("89d7"),o=n.n(r);o.a},6246:function(t,e,n){"use strict";var r=n("2496"),o=n.n(r);o.a},"869a":function(t,e,n){},"89d7":function(t,e,n){},"8bbf":function(e,n){e.exports=t},"8ccd":function(t,e,n){},b2c3:function(t,e,n){},b5e3:function(t,e,n){"use strict";var r=n("b2c3"),o=n.n(r);o.a},d4bf:function(t,e,n){"use strict";var r=n("8ccd"),o=n.n(r);o.a},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},fb15:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-git-comment"},[n("CommentHeader"),n("CommentBody"),n("CommentPagination"),n("CommentEditor",{ref:"editor"})],1)},i=[];function a(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}var c=n("8bbf"),s=n.n(c);
/**
  * vue-class-component v7.2.3
  * (c) 2015-present Evan You
  * @license MIT
  */
function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){return p(t)||h(t)||d()}function p(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function h(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function v(t,e){y(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(n){y(t.prototype,e.prototype,n)})),Object.getOwnPropertyNames(e).forEach((function(n){y(t,e,n)}))}function y(t,e,n){var r=n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e);r.forEach((function(r){var o=n?Reflect.getOwnMetadata(r,e,n):Reflect.getOwnMetadata(r,e);n?Reflect.defineMetadata(r,o,t,n):Reflect.defineMetadata(r,o,t)}))}var g={__proto__:[]},b=g instanceof Array;function _(t){return function(e,n,r){var o="function"===typeof e?e:e.constructor;o.__decorators__||(o.__decorators__=[]),"number"!==typeof r&&(r=void 0),o.__decorators__.push((function(e){return t(e,n,r)}))}}function w(t){var e=u(t);return null==t||"object"!==e&&"function"!==e}function O(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||n.push(r);n.forEach((function(n){"_"!==n.charAt(0)&&Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var r=new e;e.prototype._init=n;var o={};return Object.keys(r).forEach((function(t){void 0!==r[t]&&(o[t]=r[t])})),o}var j=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(j.indexOf(t)>-1)e[t]=n[t];else{var r=Object.getOwnPropertyDescriptor(n,t);void 0!==r.value?"function"===typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){return f({},t,r.value)}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return O(this,t)}});var r=t.__decorators__;r&&(r.forEach((function(t){return t(e)})),delete t.__decorators__);var o=Object.getPrototypeOf(t.prototype),i=o instanceof s.a?o.constructor:s.a,a=i.extend(e);return P(a,t,i),m()&&v(a,t),a}var k={prototype:!0,arguments:!0,callee:!0,caller:!0};function P(t,e,n){Object.getOwnPropertyNames(e).forEach((function(r){if(!k[r]){var o=Object.getOwnPropertyDescriptor(t,r);if(!o||o.configurable){var i=Object.getOwnPropertyDescriptor(e,r);if(!b){if("cid"===r)return;var a=Object.getOwnPropertyDescriptor(n,r);if(!w(i.value)&&a&&a.value===i.value)return}0,Object.defineProperty(t,r,i)}}}))}function S(t){return"function"===typeof t?C(t):function(e){return C(e,t)}}S.registerHooks=function(t){j.push.apply(j,l(t))};var E=S,L="__reactiveInject__";function x(t){return _((function(e,n){"undefined"===typeof e.inject&&(e.inject={}),Array.isArray(e.inject)||(e.inject[n]=t||n)}))}function T(t){var e=function(){var n=this,r="function"===typeof t?t.call(this):t;for(var o in r=Object.create(r||null),r[L]=this[L]||{},e.managed)r[e.managed[o]]=this[o];var i=function(t){r[e.managedReactive[t]]=a[t],Object.defineProperty(r[L],e.managedReactive[t],{enumerable:!0,get:function(){return n[t]}})},a=this;for(var o in e.managedReactive)i(o);return r};return e.managed={},e.managedReactive={},e}function A(t){return"function"!==typeof t||!t.managed&&!t.managedReactive}function I(t){return _((function(e,n){var r=e.provide;A(r)&&(r=e.provide=T(r)),r.managed[n]=t||n}))}var M="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function R(t,e,n){M&&(Array.isArray(t)||"function"===typeof t||"undefined"!==typeof t.type||(t.type=Reflect.getMetadata("design:type",e,n)))}function N(t){return void 0===t&&(t={}),function(e,n){R(t,e,n),_((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function H(t,e){void 0===e&&(e={});var n=e.deep,r=void 0!==n&&n,o=e.immediate,i=void 0!==o&&o;return _((function(e,n){"object"!==typeof e.watch&&(e.watch=Object.create(null));var o=e.watch;"object"!==typeof o[t]||Array.isArray(o[t])?"undefined"===typeof o[t]&&(o[t]=[]):o[t]=[o[t]],o[t].push({handler:n,deep:r,immediate:i})}))}function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e,n){return e&&G(t.prototype,e),n&&G(t,n),t}var V=function(){function t(){q(this,t),this.access_token="",this.options=D({client_id:"",client_secret:"",owner:"",repo:"",uuid:""},function(){var t={title:"",language:"en"};return t}()),this.state={loading:!0,ifLogin:!1},this.userInfo={loading:!1,name:"",avatar_url:"",html_url:""},this.issue={created:!0,number:0,html_url:"",heartId:"",likedList:[]},this.comments={loading:!1,count:0,page:1,per_page:10,sortedAsc:!0,list:[]}}return B(t,[{key:"extend",value:function(t){Object.assign(this,t)}},{key:"reset",value:function(){this.extend(new t)}}]),t}(),U=new V;function K(t){return Object.keys(t).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(t[e]))})).join("&")}function X(t,e){return~t.indexOf("?")?("&"!==t[t.length-1]&&(t="&"+t),t+K(e)):t+"?"+K(e)}function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=new RegExp("".concat(t,"=([^&]*)")),r=e.match(n);return r&&r.length?r[1]:""}function J(t){return t.replace(/(<a )/g,'$1target="_blank" ')}function W(t,e){var n={"y+":t.getFullYear(),"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"h+":t.getHours()-12,"m+":t.getMinutes(),"s+":t.getSeconds()},r=function(t){var r=new RegExp(t,"g");e=e.replace(r,(function(e){return("000000"+n[t]).slice(-e.length)}))};for(var o in n)r(o);return e}function Y(t,e,n){for(var r=[],o=n-(t-1)*e,i=o-e+1,a=100;a>=e;a--)if(!(a>i)){for(var c=!1,s=1;s<n/e;s++){var u=a*s;if(u>=i&&u<o){c=!0;break}if(u>=o)break}c||r.push({page:s,per_page:a,offset:i-((s-1)*a+1)})}return r.sort((function(t,e){return t.per_page-e.per_page})),r.length||r.push({page:1,per_page:o,offset:i-1}),r[0].offset<0&&(r[0].offset=0),r[0]}var Q="GIT_COMMENT_ACCESS_STOKEN",Z=["vue-git-comment"],tt="this issue is made by: https://github.com/shalldie/vue-git-comment",et="IDENTITY_STATE";function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var rt=function t(){var e=this;nt(this,t);var n=new Promise((function(t,n){e.resolve=t,e.reject=n}));this.then=n.then.bind(n),this.catch=n.catch.bind(n),this.promise=n};function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){at(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function at(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ct="https://api.github.com";function st(t){var e=t.method,n=t.url,r=t.proxy,o=t.query,i=t.params,a=t.headers;/^http/.test(n)||(n=ct+n),r&&(n=r+n);var c=new rt,s=new XMLHttpRequest;for(var u in s.onload=function(){var t=this.getResponseHeader("content-type")||"";if(/json/.test(t)){var e=this.responseText?JSON.parse(this.responseText):{};c.resolve(e)}else c.resolve(this.responseText)},s.onerror=function(t){console.log("invoke xhr error"),c.reject(t.message)},o&&(n=X(n,o)),s.open(e,n,!0),a=it({Accept:"application/json"},a),a)s.setRequestHeader(u,a[u]);return"POST"===e&&s.setRequestHeader("Content-Type","application/json"),s.send(i?JSON.stringify(i):null),c.promise}var ut={fetch:st};function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){pt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ht(t){return vt(t)||mt(t)||dt()}function dt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function mt(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function vt(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function yt(){var t=U.options,e=t.client_id,n=t.client_secret;return{Authorization:"Basic "+btoa("".concat(e,":").concat(n))}}function gt(){return{Authorization:"token ".concat(U.access_token)}}function bt(){var t="https://github.com/login/oauth/authorize";t=X(t,{client_id:U.options.client_id,redirect_uri:window.location.href,scope:"public_repo",state:et}),window.location.href=t}function _t(t){var e=U.options,n=e.client_id,r=e.client_secret;return ut.fetch({method:"POST",url:"https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token",params:{client_id:n,client_secret:r,code:t}}).then((function(t){return t.access_token}))}function wt(){return ut.fetch({method:"GET",url:"/user",headers:gt(),query:{_:Math.random()}})}function Ot(t,e,n){var r=U.options,o=r.owner,i=r.repo;return ut.fetch({method:"POST",url:"/repos/".concat(o,"/").concat(i,"/issues"),headers:gt(),params:{labels:t,title:e,body:n}})}function jt(){var t=U.options,e=t.owner,n=t.repo,r=t.uuid,o=[r].concat(ht(Z)).join(",");return ut.fetch({method:"GET",url:"/repos/".concat(e,"/").concat(n,"/issues"),headers:yt(),query:{creator:e,labels:o,_:Math.random()}}).then((function(t){return t[0]}))}function Ct(){var t=U.options,e=t.owner,n=t.repo,r=U.issue.number;return ut.fetch({method:"GET",url:"/repos/".concat(e,"/").concat(n,"/issues/").concat(r,"/reactions"),headers:lt({},yt(),{Accept:"application/vnd.github.squirrel-girl-preview+json"}),query:{_:Math.random()}})}function kt(t){var e=U.options,n=e.owner,r=e.repo,o=U.issue.number;return ut.fetch({method:"POST",url:"/repos/".concat(n,"/").concat(r,"/issues/").concat(o,"/comments"),headers:gt(),params:{body:t}})}function Pt(t){return ut.fetch({method:"POST",url:"/markdown",headers:yt(),params:{mode:"gfm",text:t}})}function St(t,e){var n=U.options,r=n.owner,o=n.repo,i=U.issue.number;return ut.fetch({method:"GET",url:"/repos/".concat(r,"/").concat(o,"/issues/").concat(i,"/comments"),headers:lt({},yt(),{Accept:["application/vnd.github.squirrel-girl-preview","application/vnd.github.v3.raw+json","application/vnd.github.VERSION.html+json"].join(",")}),query:{page:t||U.comments.page,per_page:e||U.comments.per_page,_:Math.random()}})}function Et(t){var e=U.options,n=e.owner,r=e.repo;return ut.fetch({method:"GET",url:"/repos/".concat(n,"/").concat(r,"/issues/comments/").concat(t,"/reactions?_=").concat(Math.random()),headers:lt({},yt(),{Accept:"application/vnd.github.squirrel-girl-preview+json"})})}function Lt(){var t=U.options,e=t.owner,n=t.repo,r=U.issue.number;return ut.fetch({method:"POST",url:"/repos/".concat(e,"/").concat(n,"/issues/").concat(r,"/reactions"),headers:lt({},gt(),{Accept:"application/vnd.github.squirrel-girl-preview+json"}),params:{content:"heart"}})}function xt(t){return ut.fetch({method:"DELETE",url:"/reactions/".concat(t),headers:lt({},gt(),{Accept:"application/vnd.github.squirrel-girl-preview+json"})})}function Tt(t){var e=U.options,n=e.owner,r=e.repo;return ut.fetch({method:"POST",url:"/repos/".concat(n,"/").concat(r,"/issues/comments/").concat(t,"/reactions"),params:{content:"heart"},headers:lt({},gt(),{Accept:"application/vnd.github.squirrel-girl-preview+json"})})}function At(t){return xt(t)}function It(t){return Nt(t)||Rt(t)||Mt()}function Mt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Rt(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Nt(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(n),!0).forEach((function(e){Dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gt(t,e,n){return e&&qt(t.prototype,e),n&&qt(t,n),t}var Bt=function(){function t(){$t(this,t)}return Gt(t,[{key:"init",value:function(t){var e=this;U.reset(),U.extend({options:t}),this.tryHandleBack().then((function(){e.tryHandleToken(),e.getUserInfo(),e.getIssueInfo().then((function(){return e.getCurrentPage()})).catch((function(t){console.log(t)}))}))}},{key:"tryHandleBack",value:function(){var t=this;if(F("state")!==et)return Promise.resolve();var e=F("code");if(!e)return Promise.resolve();var n=window.location.href.replace(/(code|state)=[^&]*/g,"").replace(/&*$/,"").replace(/\?/,"");return window.history.replaceState(null,"",n),U.comments.loading=!0,_t(e).then((function(t){U.access_token=t,localStorage.setItem(Q,t)})).catch((function(e){console.log(e),t.logOut()})).finally((function(){U.comments.loading=!1}))}},{key:"tryHandleToken",value:function(){var t=localStorage.getItem(Q);t&&(U.access_token=t)}},{key:"getUserInfo",value:function(){var t=this;if(U.access_token)return U.userInfo.loading=!0,wt().then((function(t){U.state.ifLogin=!0,U.userInfo={loading:!1,name:t.login,avatar_url:t.avatar_url,html_url:t.html_url}})).catch((function(e){console.log(e),t.logOut()})).finally((function(){U.state.loading=!1}))}},{key:"getIssueInfo",value:function(){var t=this;return jt().then((function(e){if(!e)throw U.issue.created=!1,new Error("issue uninited");U.comments.count=e.comments,U.issue=zt({},U.issue,{created:!0,number:e.number,html_url:e.html_url}),t.getIssueReactions()}))}},{key:"getIssueReactions",value:function(){Ct().then((function(t){t=t.filter((function(t){return"heart"===t.content})).map((function(t){return{id:t.id,name:t.user.login}})),U.issue.likedList=t}))}},{key:"getCurrentPage",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];U.comments.loading=!0;var n=new rt,r=U.comments,o=r.page,i=r.per_page;if(U.comments.sortedAsc){var a=e?this.getIssueInfo():Promise.resolve();a.then((function(){n.resolve({page:o,per_page:i,offset:0})}))}else this.getIssueInfo().then((function(){var t=U.comments.count,e=Y(o,i,t);n.resolve(e)}));n.then((function(t){return St(t.page,t.per_page).then((function(e){return e=e.slice(t.offset,t.offset+i),!U.comments.sortedAsc&&e.reverse(),e}))})).then((function(e){var n=e.map((function(t){return{id:t.id,body_html:J(t.body_html),body:t.body,created_at:W(new Date(t.created_at),"yyyy/MM/dd HH:mm:ss"),heart:t.reactions.heart,likedList:Array(t.reactions.heart),user:{name:t.user.login,avatar_url:t.user.avatar_url,link:t.user.html_url}}}));U.state.ifLogin&&n.forEach((function(e){e.likedList.length&&t.getCommentReactions(e.id+"").then((function(t){e.likedList=t,U.comments.list=U.comments.list.slice()}))})),U.comments.loading=!1,U.comments.list=n}))}},{key:"getCommentReactions",value:function(t){return Et(t).then((function(t){return t=t.filter((function(t){return"heart"==t.content})).map((function(t){return{id:t.id,name:t.user.login}})),t}))}},{key:"login",value:function(){bt()}},{key:"logOut",value:function(){U.extend({access_token:"",state:{loading:!1,ifLogin:!1},userInfo:{loading:!1,name:"",avatar_url:"",html_url:""}}),window.localStorage.removeItem(Q)}},{key:"createIssue",value:function(){return Ot([U.options.uuid].concat(It(Z)),U.options.title||document.title.substr(0,20),tt)}}]),t}(),Vt=new Bt,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-header"},[n("span",{staticClass:"like-item",class:{disabled:!t.store.state.ifLogin,"vgc-busy":t.issueHeartLoading},on:{click:t.toggleHeart}},[t.issueHeartLoading?n("span",{staticClass:"heart-icon vgc-rotate",domProps:{innerHTML:t._s(t.spinnerIcon)}}):n("span",{staticClass:"heart-icon",class:{liked:t.liked},domProps:{innerHTML:t._s(t.heartIcon)}}),n("span",{staticClass:"heart-txt"},[n("strong",[t._v(t._s(t.store.issue.likedList.length))]),n("span",[t._v(" "+t._s(t.i("Liked")))])])]),n("span",{staticClass:"split-point"},[t._v("•")]),n("a",{staticClass:"comment-num",attrs:{href:t.store.issue.html_url,target:"_blank"}},[n("strong",[t._v(t._s(t.store.comments.count))]),n("span",[t._v(" "+t._s(t.i("Comments")))])]),n("div",{staticClass:"sort-item-wrap"},[n("strong",{staticClass:"sort-item",class:{active:!t.store.comments.sortedAsc},on:{click:function(e){return t.changeSort(!1)}}},[t._v(" "+t._s(t.i("Latest"))+" ")]),n("strong",{staticClass:"split-point"},[t._v("•")]),n("strong",{staticClass:"sort-item",class:{active:t.store.comments.sortedAsc},on:{click:function(e){return t.changeSort(!0)}}},[t._v(" "+t._s(t.i("Earliest"))+" ")])])])},Kt=[],Xt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><path d="M25 10c-8.3 0-15 6.7-15 15 0 6.6 4.3 12.2 10.3 14.2.8.1 1-.3 1-.7v-2.6c-4.2.9-5.1-2-5.1-2-.7-1.7-1.7-2.2-1.7-2.2-1.4-.9.1-.9.1-.9 1.5.1 2.3 1.5 2.3 1.5 1.3 2.3 3.5 1.6 4.4 1.2.1-1 .5-1.6 1-2-3.3-.4-6.8-1.7-6.8-7.4 0-1.6.6-3 1.5-4-.2-.4-.7-1.9.1-4 0 0 1.3-.4 4.1 1.5 1.2-.3 2.5-.5 3.8-.5 1.3 0 2.6.2 3.8.5 2.9-1.9 4.1-1.5 4.1-1.5.8 2.1.3 3.6.1 4 1 1 1.5 2.4 1.5 4 0 5.8-3.5 7-6.8 7.4.5.5 1 1.4 1 2.8v4.1c0 .4.3.9 1 .7 6-2 10.2-7.6 10.2-14.2C40 16.7 33.3 10 25 10z"/></svg>',Ft='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><path d="M25 39.7l-.6-.5C11.5 28.7 8 25 8 19c0-5 4-9 9-9 4.1 0 6.4 2.3 8 4.1 1.6-1.8 3.9-4.1 8-4.1 5 0 9 4 9 9 0 6-3.5 9.7-16.4 20.2l-.6.5zM17 12c-3.9 0-7 3.1-7 7 0 5.1 3.2 8.5 15 18.1 11.8-9.6 15-13 15-18.1 0-3.9-3.1-7-7-7-3.5 0-5.4 2.1-6.9 3.8L25 17.1l-1.1-1.3C22.4 14.1 20.5 12 17 12z"/></svg>',Jt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><path d="M25 18c-.6 0-1-.4-1-1V9c0-.6.4-1 1-1s1 .4 1 1v8c0 .6-.4 1-1 1z"/><path opacity=".3" d="M25 42c-.6 0-1-.4-1-1v-8c0-.6.4-1 1-1s1 .4 1 1v8c0 .6-.4 1-1 1z"/><path opacity=".3" d="M29 19c-.2 0-.3 0-.5-.1-.4-.3-.6-.8-.3-1.3l4-6.9c.3-.4.8-.6 1.3-.3.4.3.6.8.3 1.3l-4 6.9c-.2.2-.5.4-.8.4z"/><path opacity=".3" d="M17 39.8c-.2 0-.3 0-.5-.1-.4-.3-.6-.8-.3-1.3l4-6.9c.3-.4.8-.6 1.3-.3.4.3.6.8.3 1.3l-4 6.9c-.2.2-.5.4-.8.4z"/><path opacity=".93" d="M21 19c-.3 0-.6-.2-.8-.5l-4-6.9c-.3-.4-.1-1 .3-1.3.4-.3 1-.1 1.3.3l4 6.9c.3.4.1 1-.3 1.3-.2.2-.3.2-.5.2z"/><path opacity=".3" d="M33 39.8c-.3 0-.6-.2-.8-.5l-4-6.9c-.3-.4-.1-1 .3-1.3.4-.3 1-.1 1.3.3l4 6.9c.3.4.1 1-.3 1.3-.2.1-.3.2-.5.2z"/><path opacity=".65" d="M17 26H9c-.6 0-1-.4-1-1s.4-1 1-1h8c.6 0 1 .4 1 1s-.4 1-1 1z"/><path opacity=".3" d="M41 26h-8c-.6 0-1-.4-1-1s.4-1 1-1h8c.6 0 1 .4 1 1s-.4 1-1 1z"/><path opacity=".86" d="M18.1 21.9c-.2 0-.3 0-.5-.1l-6.9-4c-.4-.3-.6-.8-.3-1.3.3-.4.8-.6 1.3-.3l6.9 4c.4.3.6.8.3 1.3-.2.3-.5.4-.8.4z"/><path opacity=".3" d="M38.9 33.9c-.2 0-.3 0-.5-.1l-6.9-4c-.4-.3-.6-.8-.3-1.3.3-.4.8-.6 1.3-.3l6.9 4c.4.3.6.8.3 1.3-.2.3-.5.4-.8.4z"/><path opacity=".44" d="M11.1 33.9c-.3 0-.6-.2-.8-.5-.3-.4-.1-1 .3-1.3l6.9-4c.4-.3 1-.1 1.3.3.3.4.1 1-.3 1.3l-6.9 4c-.1.2-.3.2-.5.2z"/><path opacity=".3" d="M31.9 21.9c-.3 0-.6-.2-.8-.5-.3-.4-.1-1 .3-1.3l6.9-4c.4-.3 1-.1 1.3.3.3.4.1 1-.3 1.3l-6.9 4c-.2.2-.3.2-.5.2z"/></svg>',Wt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1332 1024"><path d="M529.066665 273.066666 529.066665 0 51.2 477.866666 529.066665 955.733335 529.066665 675.84C870.4 675.84 1109.333335 785.066665 1280 1024 1211.733335 682.666665 1006.933335 341.333334 529.066665 273.066666"></path></svg>',Yt={Liked:{"zh-CN":"喜欢"},Comments:{"zh-CN":"评论"},Latest:{"zh-CN":"最新"},Earliest:{"zh-CN":"最早"},"Seems new,":{"zh-CN":"似乎新建的，"},Click:{"zh-CN":"点击"},"to create an issue.":{"zh-CN":"去创建一个新 issue 。"},"commented on":{"zh-CN":"发表于"},"Next page":{"zh-CN":"下一页"},Write:{"zh-CN":"评论"},Preview:{"zh-CN":"预览"},Login:{"zh-CN":"登陆"},"with Github":{"zh-CN":"，使用 Github"},Logout:{"zh-CN":"退出"},"Leave a comment.":{"zh-CN":"留下一个评论。"},"Nothing to preview":{"zh-CN":"没有东西可预览"},"Loading preview ...":{"zh-CN":"加载预览中 ..."},Comment:{"zh-CN":"发表评论"},Submitting:{"zh-CN":"提交中"}},Qt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt,n=U.options.language,r=e[t];return r[n]?r[n]:t};function Zt(t){return Zt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(t)}function te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ne(t,e,n){return e&&ee(t.prototype,e),n&&ee(t,n),t}function re(t,e){return!e||"object"!==Zt(e)&&"function"!==typeof e?oe(t):e}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ie(t){return ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ie(t)}function ae(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}function ce(t,e){return ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ce(t,e)}var se=function(t){function e(){var t;return te(this,e),t=re(this,ie(e).apply(this,arguments)),t.i=Qt,t.spinnerIcon=Jt,t.heartIcon=Ft,t.issueHeartLoading=!1,t}return ae(e,t),ne(e,[{key:"toggleHeart",value:function(){var t=this;if(this.store.state.ifLogin&&!this.issueHeartLoading)if(this.issueHeartLoading=!0,this.liked){var e=U.issue.likedList.find((function(t){return t.name==U.userInfo.name}));e&&xt(e.id).then((function(){t.issueHeartLoading=!1,U.issue.likedList=U.issue.likedList.filter((function(t){return t.name!=U.userInfo.name}))}))}else Lt().then((function(e){t.issueHeartLoading=!1,U.issue.likedList.push({id:e.id,name:e.user.login})}))}},{key:"changeSort",value:function(t){this.store.comments.sortedAsc!=t&&(this.store.comments.sortedAsc=t,this.store.comments.page=1,Vt.getCurrentPage())}},{key:"liked",get:function(){var t=this;return this.store.issue.likedList.some((function(e){return e.name===t.store.userInfo.name}))}}]),e}(s.a);a([x()],se.prototype,"store",void 0),se=a([E],se);var ue=se,fe=ue;n("1d2e");function le(t,e,n,r,o,i,a,c){var s,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(s=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=s):o&&(s=c?function(){o.call(this,this.$root.$options.shadowRoot)}:o),s)if(u.functional){u._injectStyles=s;var f=u.render;u.render=function(t,e){return s.call(e),f(t,e)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,s):[s]}return{exports:t,options:u}}var pe=le(fe,Ut,Kt,!1,null,null,null),he=pe.exports,de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-body"},[t.creating?n("div",[t._v("Creating...")]):t.store.issue.created||t.store.options.owner!==t.store.userInfo.name?t.store.comments.loading?n("div",{staticClass:"comment-loading",domProps:{innerHTML:t._s(t.spinnerIcon)}}):n("div",{staticClass:"comment-list"},t._l(t.store.comments.list,(function(e,r){return n("div",{key:r,staticClass:"markdown-body comment-list-item"},[n("a",{attrs:{href:e.user.link,target:"_blank"}},[n("img",{staticClass:"user-avatar",attrs:{src:e.user.avatar_url}})]),n("div",{staticClass:"comment-item-main border-arrow"},[n("div",{staticClass:"cim-header"},[n("div",{staticClass:"cim-info-wrap"},[n("a",{staticClass:"cim-name",attrs:{target:"_blank",href:e.user.link}},[t._v(t._s(e.user.name))]),n("span",{staticClass:"cim-time"},[t._v(" "+t._s(t.i("commented on"))+" ")]),n("span",{staticClass:"cim-time"},[t._v(t._s(e.created_at))])]),n("div",{staticClass:"cim-reaction"},[n("span",{staticClass:"cim-heart-item",class:{liked:t.heartMap[r],disabled:!t.store.state.ifLogin,"vgc-busy":e.heartLoading},on:{click:function(e){return t.toggleHeart(r)}}},[e.heartLoading?n("span",{staticClass:"cim-heart-icon vgc-rotate",domProps:{innerHTML:t._s(t.spinnerIcon)}}):n("span",{staticClass:"cim-heart-icon",domProps:{innerHTML:t._s(t.heartIcon)}}),n("span",{staticClass:"cim-heart-num"},[t._v(t._s(e.likedList.length||""))])]),n("span",{staticClass:"cim-reply-item",class:{disabled:!t.store.state.ifLogin},domProps:{innerHTML:t._s(t.replyIcon)},on:{click:function(n){return t.handleReply(e)}}})])]),n("div",{staticClass:"cim-body",domProps:{innerHTML:t._s(e.body_html)}})])])})),0):n("div",[t._v(" "+t._s(t.i("Seems new,"))+" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:t.createIssue}},[t._v(t._s(t.i("Click")))]),t._v(" "+t._s(t.i("to create an issue."))+" ")])])},me=[];function ve(t){return ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve(t)}function ye(t){return _e(t)||be(t)||ge()}function ge(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function be(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _e(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function je(t,e,n){return e&&Oe(t.prototype,e),n&&Oe(t,n),t}function Ce(t,e){return!e||"object"!==ve(e)&&"function"!==typeof e?ke(t):e}function ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pe(t){return Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pe(t)}function Se(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ee(t,e)}function Ee(t,e){return Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ee(t,e)}var Le=function(t){function e(){var t;return we(this,e),t=Ce(this,Pe(e).apply(this,arguments)),t.i=Qt,t.heartIcon=Ft,t.spinnerIcon=Jt,t.replyIcon=Wt,t.creating=!1,t}return Se(e,t),je(e,[{key:"createIssue",value:function(){var t=this;this.creating=!0,Vt.createIssue().then((function(){t.creating=!1,t.store.issue.created=!0,Vt.init(t.store.options)}))}},{key:"toggleHeart",value:function(t){var e=this;if(this.store.state.ifLogin){var n="heartLoading",r=this.store.comments.list[t];if(!r[n])if(s.a.set(r,n,!0),this.heartMap[t]){var o=r.likedList.filter((function(t){return t.name==e.store.userInfo.name}))[0].id;At(o).then((function(){r.likedList=r.likedList.filter((function(t){return t.name!=e.store.userInfo.name})),s.a.set(r,n,!1)}))}else Tt(r.id+"").then((function(t){r.likedList.push({id:t.id,name:t.user.login}),s.a.set(r,n,!1)}))}}},{key:"handleReply",value:function(t){if(this.store.state.ifLogin){var e=["@".concat(t.user.name)].concat(ye(t.body.split("\n"))).map((function(t){return"> ".concat(t)})).join("\n")+"\n",n=this.$parent.$refs.editor;n.showArea=!0,this.$nextTick((function(){n.areaContent=e,n.$refs.editor.focus()}))}}},{key:"heartMap",get:function(){var t=this;return this.store.comments.list.map((function(e){return e.likedList.some((function(e){return e.name==t.store.userInfo.name}))}))}}]),e}(s.a);a([x()],Le.prototype,"store",void 0),Le=a([E],Le);var xe=Le,Te=xe,Ae=(n("d4bf"),le(Te,de,me,!1,null,null,null)),Ie=Ae.exports,Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"comment-pagination"},[t._l(t.pageCount,(function(e,r){return n("li",{key:r,staticClass:"comment-page-item",class:{disabled:r+1==t.store.comments.page},on:{click:function(e){return t.fetchPage(r+1)}}},[t._v(" "+t._s(r+1)+" ")])})),n("li",{staticClass:"comment-page-item",class:{disabled:t.store.comments.page>=t.pageCount},on:{click:t.nextPage}},[t._v(" "+t._s(t.i("Next page"))+" ")])],2)},Re=[];function Ne(t){return Ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ne(t)}function He(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function De(t,e,n){return e&&ze(t.prototype,e),n&&ze(t,n),t}function $e(t,e){return!e||"object"!==Ne(e)&&"function"!==typeof e?qe(t):e}function qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ge(t){return Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ge(t)}function Be(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ve(t,e)}function Ve(t,e){return Ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ve(t,e)}var Ue=function(t){function e(){var t;return He(this,e),t=$e(this,Ge(e).apply(this,arguments)),t.i=Qt,t}return Be(e,t),De(e,[{key:"nextPage",value:function(){this.fetchPage(this.store.comments.page+1)}},{key:"fetchPage",value:function(t){this.store.comments.page===t||t<=0||t>this.pageCount||(U.comments.page=t,Vt.getCurrentPage())}},{key:"pageCount",get:function(){var t=this.store.comments,e=t.per_page,n=t.count;return Math.ceil(n/e)||1}}]),e}(s.a);a([x()],Ue.prototype,"store",void 0),Ue=a([E],Ue);var Ke=Ue,Xe=Ke,Fe=(n("b5e3"),le(Xe,Me,Re,!1,null,null,null)),Je=Fe.exports,We=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-editor"},[t.store.state.ifLogin||t.store.userInfo.loading?t.store.userInfo.loading?n("span",{staticClass:"user-avatar user-avatar-loading",domProps:{innerHTML:t._s(t.spinnerIcon)}}):n("a",{attrs:{href:t.store.userInfo.html_url,target:"_blank"}},[n("img",{staticClass:"user-avatar user-avatar-img",attrs:{src:t.store.userInfo.avatar_url}})]):n("span",{staticClass:"user-avatar user-avatar-github",domProps:{innerHTML:t._s(t.githubIcon)}}),n("div",{staticClass:"comment-editor-main"},[n("div",{staticClass:"ce-header border-arrow"},[n("div",{staticClass:"ce-tab-item",class:{active:t.showArea},on:{click:function(e){t.showArea=!0}}},[t._v(t._s(t.i("Write")))]),n("div",{staticClass:"ce-tab-item",class:{active:!t.showArea},on:{click:function(e){t.showArea=!1}}},[t._v(" "+t._s(t.i("Preview"))+" ")]),n("div",{staticClass:"login-wrap"},[t.store.state.ifLogin?n("span",{staticClass:"logout-link",on:{click:t.logOut}},[t._v(t._s(t.i("Logout")))]):[n("a",{attrs:{href:"javascript:void(0)"},on:{click:t.login}},[t._v(t._s(t.i("Login")))]),n("span",[t._v(" "+t._s(t.i("with Github")))])]],2)]),n("div",{staticClass:"ce-body"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.areaContent,expression:"areaContent"},{name:"show",rawName:"v-show",value:t.showArea,expression:"showArea"}],ref:"editor",staticClass:"ce-textarea",attrs:{disabled:!t.store.state.ifLogin||t.submitting,placeholder:t.i("Leave a comment.")},domProps:{value:t.areaContent},on:{input:function(e){e.target.composing||(t.areaContent=e.target.value)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showArea,expression:"!showArea"}],staticClass:"markdown-body ce-preview",domProps:{innerHTML:t._s(t.markdownContent)}})]),n("div",{staticClass:"ce-comment-row"},[t._m(0),n("button",{staticClass:"ce-comment-btn",attrs:{disabled:!t.store.state.ifLogin||t.submitting},on:{click:t.comment}},[t._v(" "+t._s(t.submitting?t.i("Submitting")+" ...":t.i("Comment"))+" ")])]),t._m(1)])])},Ye=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ce-link-wrap"},[n("a",{staticClass:"ce-md-link",attrs:{target:"_blank",href:"https://guides.github.com/features/mastering-markdown/"}},[t._v(" Markdown is supported ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ce-power-row"},[n("span",[t._v("Powered by ")]),n("a",{attrs:{target:"_blank",href:"https://github.com/shalldie/vue-git-comment"}},[t._v("vue-git-comment")])])}];function Qe(t){return Qe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(t)}function Ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function en(t,e,n){return e&&tn(t.prototype,e),n&&tn(t,n),t}function nn(t,e){return!e||"object"!==Qe(e)&&"function"!==typeof e?rn(t):e}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t){return on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},on(t)}function an(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cn(t,e)}function cn(t,e){return cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},cn(t,e)}var sn=function(t){function e(){var t;return Ze(this,e),t=nn(this,on(e).apply(this,arguments)),t.i=Qt,t.githubIcon=Xt,t.spinnerIcon=Jt,t.showArea=!0,t.submitting=!1,t.areaContent="",t.markdownContent=t.i("Nothing to preview"),t.cacheList=[],t}return an(e,t),en(e,[{key:"getCache",value:function(t){var e=this.cacheList.find((function(e){return e.content===t}));if(e)return e.preview}},{key:"addCache",value:function(t,e){this.cacheList.push({content:t,preview:e}),this.cacheList.length>10&&this.cacheList.shift()}},{key:"login",value:function(){Vt.login()}},{key:"logOut",value:function(){Vt.logOut()}},{key:"comment",value:function(){var t=this;this.areaContent.trim().length<=0||(this.submitting=!0,kt(this.areaContent).then((function(){return t.areaContent="",t.submitting=!1,t.showArea=!0,Vt.getCurrentPage(!0)})))}},{key:"handleShowAreaChange",value:function(t){var e=this;if(this.areaContent=this.areaContent.trim(),!t&&this.areaContent.length){var n=this.getCache(this.areaContent);n?this.markdownContent=n:(this.markdownContent=this.i("Loading preview ..."),Pt(this.areaContent).then((function(t){t=J(t),e.markdownContent=t,e.addCache(e.areaContent,t)})))}else this.markdownContent=this.i("Nothing to preview")}}]),e}(s.a);a([x()],sn.prototype,"store",void 0),a([H("showArea")],sn.prototype,"handleShowAreaChange",null),sn=a([E],sn);var un=sn,fn=un,ln=(n("6246"),le(fn,We,Ye,!1,null,null,null)),pn=ln.exports;function hn(t){return hn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(t)}function dn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vn(t,e,n){return e&&mn(t.prototype,e),n&&mn(t,n),t}function yn(t,e){return!e||"object"!==hn(e)&&"function"!==typeof e?gn(t):e}function gn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bn(t){return bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bn(t)}function _n(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wn(t,e)}function wn(t,e){return wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wn(t,e)}var On=function(t){function e(){var t;return dn(this,e),t=yn(this,bn(e).apply(this,arguments)),t.store=U,t}return _n(e,t),vn(e,[{key:"handleOptionsChange",value:function(t){Vt.init(t)}},{key:"mounted",value:function(){this.options&&this.handleOptionsChange(this.options)}}]),e}(s.a);a([N()],On.prototype,"options",void 0),a([I()],On.prototype,"store",void 0),a([H("options",{deep:!0})],On.prototype,"handleOptionsChange",null),On=a([E({components:{CommentHeader:he,CommentBody:Ie,CommentPagination:Je,CommentEditor:pn}})],On);var jn=On,Cn=jn,kn=(n("2f30"),le(Cn,o,i,!1,null,null,null)),Pn=kn.exports;Pn["install"]=function(t){t.component("vue-git-comment",Pn)};var Sn=Pn;e["default"]=Sn}})["default"]}));